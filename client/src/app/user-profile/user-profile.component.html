<div class=" bg-[#e7ebee] h-screen overflow-x-hidden">
<div *ngIf="authService.isLoggedIn()">
  <div *ngIf="userService?.user$ | async as user">
    <div class="w-[80%] mx-auto ">
      <div class=" flex">
        <div class="mt-8">
          <div class="w-[400px] bg-white p-12" >
            <div class="flex justify-center items-center flex-col">
              <div class="relative">
                <img class="w-24 h-24 rounded-full object-cover" src="{{user.profile_pic_url}}" alt="profile_pic">
                <input class='mt-2 absolute top-24 text-white placeholder:text-tsec' name='image' (change)="handleImage($event)" accept="image/*" type="file" required>
              </div>
              <h1 class="text-tmain text-4xl font-semibold mt-12">{{user.name}}</h1>
              <h1 class="text-tsec text-center">Never give up</h1>
              <div class="flex justify-center items-center gap-2 mt-4">
                <button class="text-white bg-mblue p-[10px] rounded-full border-2 border-mblue">
                  <div class="flex items-center justify-center gap-2">
                    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M8.8342 18.29H9.7858L12.0911 15.9847H15.3078L15.9779 15.3146V12.0711L18.31 9.7658V8.8142L16.0181 6.50891V3.23862L15.348 2.58188H12.0911L9.7858 0.29H8.8342L6.59592 2.58188H3.28543L2.57508 3.25203V6.50891L0.309998 8.8142V9.7658L2.57508 12.0711V15.3146L3.28543 15.9847H6.59592L8.8342 18.29ZM6.81037 14.6444H3.91536V11.7896L3.75452 11.3205L1.7307 9.2833L3.71432 7.25947L3.91536 6.79037V3.92217H6.81037L7.29287 3.73453L9.27649 1.7107L11.3405 3.73453L11.8096 3.92217H14.6376V6.79037L14.8655 7.25947L16.9027 9.2833L14.8253 11.3205L14.6376 11.7896V14.6444H11.8096L11.3003 14.8455L9.27649 16.8693L7.29287 14.8321L6.81037 14.6444ZM7.57433 12.6072H8.52593L13.5788 7.55433L12.6272 6.60273L8.05683 11.1865L6.20724 9.33691L5.25564 10.2885L7.57433 12.6072Z" fill="white"/>
                      </svg>
                    <h1>Verified</h1>
                  </div>
                </button>
                <button class="border text-mblue border-mblue bg-white p-[10px] rounded-full">
                  <div class="flex items-center justify-center gap-2">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M0.653253 12.9524C0.46175 13.1514 0.46175 13.4739 0.653253 13.6729C0.844757 13.8718 1.15525 13.8718 1.34675 13.6729L0.653253 12.9524ZM8.06066 5.25702L0.653253 12.9524L1.34675 13.6729L8.75416 5.97748L8.06066 5.25702Z" fill="#00AFF5"/>
                      <line x1="0.5" y1="-0.5" x2="1.63625" y2="-0.5" transform="matrix(-0.653593 0.759656 -0.731227 -0.679004 8.555 9.46494)" stroke="#00AFF5" stroke-linecap="round"/>
                      <line x1="0.5" y1="-0.5" x2="3.78159" y2="-0.5" transform="matrix(-0.652205 0.758042 -0.73279 -0.680455 7.81658 10.2763)" stroke="#00AFF5" stroke-linecap="round"/>
                      <line x1="0.5" y1="-0.5" x2="4.84973" y2="-0.5" transform="matrix(-0.664239 0.74752 -0.721738 -0.692167 4.5535 13.9647)" stroke="#00AFF5" stroke-linecap="round"/>
                      <line x1="0.5" y1="-0.5" x2="3.78159" y2="-0.5" transform="matrix(-0.652205 0.758042 -0.73279 -0.680455 10.7795 12.5431)" stroke="#00AFF5" stroke-linecap="round"/>
                      <line x1="0.5" y1="-0.5" x2="4.84973" y2="-0.5" transform="matrix(-0.664239 0.74752 -0.721738 -0.692167 7.51646 16.2314)" stroke="#00AFF5" stroke-linecap="round"/>
                      <line x1="0.5" y1="-0.5" x2="3.78159" y2="-0.5" transform="matrix(-0.652205 0.758042 -0.73279 -0.680455 13.7425 13.3126)" stroke="#00AFF5" stroke-linecap="round"/>
                      <line x1="0.5" y1="-0.5" x2="4.84973" y2="-0.5" transform="matrix(-0.664239 0.74752 -0.721738 -0.692167 10.4794 17.001)" stroke="#00AFF5" stroke-linecap="round"/>
                      <line x1="0.5" y1="-0.5" x2="3.78159" y2="-0.5" transform="matrix(-0.652205 0.758042 -0.73279 -0.680455 18.187 13.3126)" stroke="#00AFF5" stroke-linecap="round"/>
                      <line x1="0.5" y1="-0.5" x2="4.84973" y2="-0.5" transform="matrix(-0.664239 0.74752 -0.721738 -0.692167 14.9239 17.001)" stroke="#00AFF5" stroke-linecap="round"/>
                      <path d="M14.3333 1L15.8301 5.78565H20.6737L16.7551 8.74334L18.2519 13.529L14.3333 10.5713L10.4148 13.529L11.9115 8.74334L7.99296 5.78565H12.8366L14.3333 1Z" stroke="#00AFF5" stroke-linejoin="round"/>
                      </svg>

                    <h1>Rising star</h1>
                  </div>
                </button>
              </div>
            </div>
          </div>
          <div class="w-[400px] bg-white border p-12 mt-[24px]">
            <div>
              <div >
                <div class="flex justify-between">
                  <div class="mb-8">
                    <svg  width="29" height="25" viewBox="0 0 29 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M4.57895 0H24.4211C25.6355 0 26.8001 0.526784 27.6589 1.46447C28.5176 2.40215 29 3.67392 29 5V20C29 21.3261 28.5176 22.5979 27.6589 23.5355C26.8001 24.4732 25.6355 25 24.4211 25H4.57895C3.36454 25 2.19986 24.4732 1.34114 23.5355C0.482424 22.5979 0 21.3261 0 20V5C0 3.67392 0.482424 2.40215 1.34114 1.46447C2.19986 0.526784 3.36454 0 4.57895 0ZM4.57895 1.66667C3.81579 1.66667 3.14421 1.95 2.62526 2.45L14.5 10.8333L26.3747 2.45C25.8558 1.95 25.1842 1.66667 24.4211 1.66667H4.57895ZM14.5 12.85L1.72474 3.8C1.60263 4.16667 1.52632 4.58333 1.52632 5V20C1.52632 20.8841 1.84793 21.7319 2.42041 22.357C2.99289 22.9821 3.76934 23.3333 4.57895 23.3333H24.4211C25.2307 23.3333 26.0071 22.9821 26.5796 22.357C27.1521 21.7319 27.4737 20.8841 27.4737 20V5C27.4737 4.58333 27.3974 4.16667 27.2753 3.8L14.5 12.85Z" fill="#6F8B90"/>
                    </svg>
                  </div>
                  <h1 class="text-tsec">{{user.email}}</h1>
                </div>
                <div class="flex justify-between">
                  <svg class="mb-8" width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M27.7566 19.8706L20.7668 16.7382C20.4501 16.6025 20.1045 16.5479 19.7614 16.5794C19.4183 16.6109 19.0885 16.7275 18.8018 16.9187C18.7727 16.9374 18.745 16.9581 18.719 16.9808L15.0657 20.0881C15.0278 20.1087 14.9856 20.1203 14.9425 20.1218C14.8993 20.1234 14.8564 20.1149 14.8171 20.097C12.469 18.9635 10.0364 16.5458 8.89858 14.2302C8.87963 14.1915 8.86978 14.149 8.86978 14.1059C8.86978 14.0628 8.87963 14.0203 8.89858 13.9816L12.0162 10.2825C12.0386 10.2551 12.0593 10.2264 12.0783 10.1966C12.2668 9.90886 12.3807 9.57867 12.4096 9.23587C12.4385 8.89307 12.3816 8.54846 12.2441 8.23316L9.13385 1.25515C8.95722 0.843228 8.65176 0.499704 8.26331 0.276133C7.87487 0.0525624 7.42439 -0.0389941 6.97949 0.0152048C5.04593 0.269403 3.27108 1.21895 1.98662 2.68641C0.702153 4.15387 -0.00403599 6.03882 1.73523e-05 7.98902C1.73523e-05 19.5746 9.42533 29 21.0109 29C22.961 29.0037 24.8458 28.2974 26.3132 27.013C27.7806 25.7286 28.7302 23.9539 28.9847 22.0205C29.0388 21.5777 28.9485 21.1292 28.7272 20.7419C28.5059 20.3545 28.1655 20.0489 27.7566 19.8706ZM21.0109 27.2244C10.4049 27.2244 1.77559 18.5951 1.77559 7.98902C1.77064 6.4708 2.31862 5.00271 3.31714 3.85904C4.31567 2.71538 5.69642 1.97439 7.20143 1.7745H7.23547C7.29509 1.77562 7.35299 1.79472 7.40157 1.82931C7.45016 1.8639 7.48715 1.91236 7.50772 1.96834L10.6298 8.93895C10.6476 8.9777 10.6568 9.01985 10.6568 9.0625C10.6568 9.10515 10.6476 9.14729 10.6298 9.18605L7.50624 12.894C7.48294 12.9205 7.46167 12.9487 7.44262 12.9784C7.24716 13.2768 7.13207 13.6206 7.10848 13.9765C7.08489 14.3324 7.1536 14.6884 7.30797 15.0099C8.62041 17.697 11.3282 20.384 14.0448 21.6965C14.3682 21.85 14.7259 21.917 15.083 21.8911C15.4401 21.8652 15.7844 21.7471 16.0822 21.5485C16.1104 21.5293 16.1385 21.5085 16.1651 21.4863L19.8169 18.3791C19.8529 18.3597 19.8928 18.3484 19.9336 18.3458C19.9745 18.3432 20.0154 18.3496 20.0536 18.3643L27.0449 21.4967C27.102 21.521 27.15 21.5627 27.1822 21.6158C27.2143 21.6689 27.2289 21.7308 27.2239 21.7926C27.0251 23.2983 26.2848 24.6801 25.1414 25.6798C23.998 26.6794 22.5297 27.2285 21.0109 27.2244Z" fill="#6F8B90"/>
                  </svg>
                  <h1 class="text-tsec">{{user.phone}}</h1>
                </div>
                <div class="flex justify-between">
                  <svg class="mb-8" width="27" height="36" viewBox="0 0 27 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M26 1H19.1818C16.168 1 13.2776 1.89553 11.1465 3.48959C9.01542 5.08365 7.81818 7.24566 7.81818 9.5V14.6H1V21.4H7.81818V35H16.9091V21.4H23.7273L26 14.6H16.9091V9.5C16.9091 9.04913 17.1485 8.61673 17.5748 8.29792C18.001 7.97911 18.5791 7.8 19.1818 7.8H26V1Z" stroke="#6F8B90" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <h1 class="text-tsec">@krbappy</h1>
                </div>
                <div class="flex justify-between">
                  <svg class="mb-8" width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24.0837 28H3.9163C2.87764 28 1.88151 27.5874 1.14706 26.8529C0.412609 26.1185 0 25.1224 0 24.0837V3.9163C0 2.87764 0.412609 1.88151 1.14706 1.14706C1.88151 0.412609 2.87764 0 3.9163 0H24.0837C25.1224 0 26.1185 0.412609 26.8529 1.14706C27.5874 1.88151 28 2.87764 28 3.9163V24.0837C28 25.1224 27.5874 26.1185 26.8529 26.8529C26.1185 27.5874 25.1224 28 24.0837 28ZM3.9163 1.56652C3.2931 1.56652 2.69543 1.81409 2.25476 2.25476C1.81409 2.69543 1.56652 3.2931 1.56652 3.9163V24.0837C1.56652 24.7069 1.81409 25.3046 2.25476 25.7452C2.69543 26.1859 3.2931 26.4335 3.9163 26.4335H24.0837C24.7069 26.4335 25.3046 26.1859 25.7452 25.7452C26.1859 25.3046 26.4335 24.7069 26.4335 24.0837V3.9163C26.4335 3.2931 26.1859 2.69543 25.7452 2.25476C25.3046 1.81409 24.7069 1.56652 24.0837 1.56652H3.9163Z" fill="#6F8B90"/>
                    <path d="M13.9999 21.1966C12.5765 21.195 11.1855 20.7715 10.0028 19.9796C8.82006 19.1876 7.89867 18.0628 7.35511 16.7473C6.81154 15.4317 6.6702 13.9846 6.94896 12.5888C7.22771 11.1929 7.91404 9.91107 8.92119 8.90524C9.92834 7.8994 11.2111 7.21475 12.6073 6.93781C14.0035 6.66088 15.4504 6.80411 16.7652 7.34939C18.0801 7.89467 19.2037 8.81753 19.9941 10.0013C20.7845 11.1851 21.2062 12.5766 21.2059 14C21.2034 15.9095 20.4431 17.74 19.092 19.0893C17.7409 20.4387 15.9094 21.1966 13.9999 21.1966ZM13.9999 8.36052C12.8867 8.36207 11.799 8.69348 10.8741 9.31288C9.94917 9.93229 9.22856 10.8119 8.80328 11.8406C8.37801 12.8694 8.26714 14.0011 8.48469 15.0928C8.70224 16.1845 9.23844 17.1872 10.0256 17.9743C10.8127 18.7615 11.8154 19.2977 12.9071 19.5152C13.9988 19.7328 15.1305 19.6219 16.1593 19.1966C17.188 18.7713 18.0676 18.0507 18.687 17.1258C19.3064 16.2009 19.6378 15.1132 19.6394 14C19.6394 12.5043 19.0452 11.0699 17.9876 10.0123C16.93 8.95467 15.4956 8.36052 13.9999 8.36052Z" fill="#6F8B90"/>
                    <path d="M22.1459 7.58509C23.076 7.58509 23.8299 6.83113 23.8299 5.90108C23.8299 4.97103 23.076 4.21707 22.1459 4.21707C21.2159 4.21707 20.4619 4.97103 20.4619 5.90108C20.4619 6.83113 21.2159 7.58509 22.1459 7.58509Z" fill="#6F8B90"/>
                  </svg>
                  <h1 class="text-tsec">@khalisurBappy</h1>
                </div>
                <div class="flex justify-between">
                  <svg class="mb-8" width="30" height="28" viewBox="0 0 30 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M28.9564 1.07718L29.9564 1.00611C29.9434 0.794685 29.8728 0.592087 29.7534 0.423674C29.634 0.255261 29.4712 0.128518 29.2852 0.0593122C29.0992 -0.00989381 28.8985 -0.0184874 28.708 0.0346074C28.5175 0.0877022 28.3458 0.200126 28.2144 0.357804L28.9564 1.07718ZM27.9604 7.45035C27.9604 7.16474 27.8551 6.89082 27.6675 6.68886C27.48 6.4869 27.2257 6.37344 26.9605 6.37344C26.6953 6.37344 26.4409 6.4869 26.2534 6.68886C26.0658 6.89082 25.9605 7.16474 25.9605 7.45035H27.9604ZM1.0012 24.7693V23.6923C0.786482 23.6921 0.577384 23.7662 0.404836 23.9038C0.232287 24.0415 0.105454 24.2352 0.0430975 24.4565C-0.0192588 24.6778 -0.0138257 24.9148 0.0585929 25.1325C0.131012 25.3502 0.266569 25.537 0.445213 25.6652L1.0012 24.7693ZM2.99714 1.07718L3.93511 0.700262C3.86695 0.503635 3.74692 0.332743 3.58978 0.208596C3.43265 0.0844494 3.24525 0.0124591 3.05063 0.00147589C2.85601 -0.00950728 2.66265 0.0409954 2.49432 0.146775C2.32599 0.252554 2.19004 0.409 2.10317 0.596878L2.99714 1.07718ZM10.9849 20.4616L11.6929 21.2219C11.813 21.0921 11.9004 20.9315 11.9468 20.7552C11.9932 20.5789 11.997 20.3928 11.958 20.2145C11.9189 20.0361 11.8383 19.8715 11.7236 19.7361C11.609 19.6007 11.4642 19.499 11.3029 19.4407L10.9849 20.4616ZM25.4325 3.17285L24.6925 3.89654L25.0525 4.32515L25.5825 4.239L25.4325 3.17285ZM27.9604 1.14826C28.0624 2.82393 27.9664 3.84054 27.7144 4.6073C27.4704 5.35037 27.0425 5.96206 26.2685 6.76113L27.6524 8.31619C28.5284 7.41158 29.2044 6.52421 29.6004 5.32668C29.9864 4.15069 30.0664 2.78947 29.9564 1.00611L27.9604 1.14826ZM27.9604 9.01833V7.45035H25.9605V9.02049H27.9604V9.01833ZM13.9808 7.62696V9.69248H15.9808V7.62696H13.9808ZM13.9808 9.69248V10.7694H15.9808V9.69248H13.9808ZM21.0506 0.000268883C20.1212 0.000834412 19.2009 0.198553 18.3424 0.582137C17.4839 0.96572 16.7039 1.52766 16.047 2.23586C15.3902 2.94406 14.8693 3.78467 14.5141 4.70967C14.1589 5.63468 13.9763 6.62598 13.9768 7.62696H15.9768C15.9762 6.90864 16.1071 6.19724 16.362 5.53341C16.6168 4.86958 16.9906 4.26631 17.4619 3.75808C17.9333 3.24985 18.493 2.84661 19.1091 2.57139C19.7252 2.29618 20.3856 2.15438 21.0526 2.15409V0.000268883H21.0506ZM25.9585 9.01833C25.9605 18.3142 18.9747 25.8462 10.3609 25.8462V28C20.0807 28 27.9604 19.501 27.9604 9.01833H25.9585ZM2.06117 1.4541C3.14914 4.58145 7.22902 10.7694 14.9808 10.7694V8.61557C8.34899 8.61557 4.84309 3.31716 3.93311 0.700262L2.06117 1.4541ZM2.10317 0.596878C0.00922511 5.1113 -0.312766 9.49218 1.20919 13.2226C2.72715 16.9423 5.99306 19.8025 10.6689 21.4825L11.3029 19.4407C6.99303 17.8899 4.2671 15.3657 3.03914 12.3546C1.81517 9.35433 1.99317 5.65621 3.89312 1.55748L2.10317 0.596878ZM10.2769 19.7013C9.07297 21.0001 5.45307 23.6923 1.0012 23.6923V25.8462C6.13305 25.8462 10.2349 22.7964 11.6929 21.2219L10.2769 19.7013ZM26.1745 2.45132C25.5279 1.67907 24.7378 1.06181 23.8554 0.639561C22.9731 0.217311 22.0182 -0.000494091 21.0526 0.000268883V2.15409C22.4946 2.15409 23.7926 2.82393 24.6925 3.89654L26.1745 2.45132ZM25.5825 4.239C27.1755 3.95871 28.6304 3.09622 29.7024 1.79656L28.2144 0.357804C27.4519 1.28554 26.4171 1.90361 25.2825 2.10886L25.5825 4.239ZM0.445213 25.6652C3.72712 28.0215 7.16702 28 10.3609 28V25.8462C7.10102 25.8462 4.2651 25.8225 1.55718 23.8733L0.445213 25.6652Z" fill="#6F8B90"/>
                  </svg>
                  <h1 class="text-tsec">@bappy_Rahman</h1>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="ml-8 w-full mt-8">
          <div class=" w-full h-[500px]  bg-white overflow-scroll">
            <div class="relative overflow-x-auto">
              <table class="w-full text-sm text-left text-gray-500">
                  <thead class="text-xs text-white uppercase bg-mblue">
                      <tr>
                          <th scope="col" class="px-6 py-3">
                              Ride start
                          </th>
                          <th scope="col" class="px-6 py-3">
                              Ride end
                          </th>
                          <th scope="col" class="px-6 py-3">
                              Date
                          </th>
                          <th scope="col" class="px-6 py-3">
                            Total Seat
                          </th>
                          <th scope="col" class="px-6 py-3">
                            Booked Seat
                          </th>
                          <th scope="col" class="px-6 py-3">
                            Action
                          </th>
                      </tr>
                  </thead>
                  <tbody class="relative">
                      <img class="w-16 ml-[520px] mt-[230px]" *ngIf=" isLoading" src="../../assets/icons8-car.gif" alt="">
                      <tr *ngFor="let ride of ownRegisterdRide" class="bg-white border-b ml-6 ">
                          <td class="px-6 py-4 text-tsec ">
                              {{ride.startPlaceName | split:',': 0}}
                          </td>
                          <td class="px-6 py-4 text-tsec ">
                              {{ride.endPlaceName |split:',': 0}}
                          </td>
                          <td class="px-6 py-6 text-tsec ">
                              {{ride.date | date:'short'}}
                          </td>
                          <td class="px-12 py-4 text-tsec">
                              {{ride.seat}}
                          </td>
                          <td class="px-12 py-4 text-tsec">
                            {{ride.bookedSeat ? ride.bookedSeat : 0}}
                          </td>
                          <td *ngIf="!ride.bookedSeat" class="px-6 py-4 text-tsec">
                            <button class="bg-[#e04949] text-white p-2 rounded-full" (click)="cancelRide(ride)">Cancel</button>
                          </td>
                          <td *ngIf="ride.bookedSeat" class="px-6 py-4 text-tsec">
                            <button class="bg-[#5CD166] text-white p-2 rounded-full" (click)="cancelRide(ride)">Update</button>
                          </td>

                      </tr>
                  </tbody>
              </table>
            </div>
          </div>
          <div class="w-full mt-8 h-[267px]  bg-white overflow-scroll">
            <div class="relative overflow-x-auto">
              <table class="w-full text-sm text-left text-gray-500">
                  <thead class="text-xs text-white uppercase bg-mblue">
                      <tr>
                          <th scope="col" class="px-6 py-3">
                              Ride start
                          </th>
                          <th scope="col" class="px-6 py-3">
                              Ride end
                          </th>
                          <th scope="col" class="px-6 py-3">
                              Date
                          </th>
                          <th scope="col" class="px-6 py-3">
                            Seat
                          </th>
                          <th scope="col" class="px-6 py-3">
                            Ride Status
                          </th>
                          <th scope="col" class="px-6 py-3">
                            Cost
                          </th>
                      </tr>
                  </thead>
                  <tbody class="relative">
                      <img class="w-16 ml-[520px] mt-8" *ngIf=" isLoadingBookedRideData" src="../../assets/icons8-car.gif" alt="">
                      <tr *ngFor="let ride of ownBookedRide" class="bg-white border-b ml-6 ">
                          <td class="px-6 py-4 text-tsec ">
                              {{ride.rideData?.startPlaceName | split:',': 0}}
                          </td>
                          <td class="px-6 py-4 text-tsec ">
                              {{ride.rideData?.endPlaceName |split:',': 0}}
                          </td>
                          <td class="px-6 py-6 text-tsec ">
                              {{ride.rideData?.date | date:'short'}}
                          </td>
                          <td class="px-8 py-4 text-tsec">
                              {{ride?.bookedSeat}}
                          </td>
                          <td class="px-4 py-4">
                            <div [ngStyle]="{ 'background-color': (ride.rideData.date | dateCheck) === 'Completed' ? '#5CD166' : '#9E852B' }" class="w-24 h-8 rounded-full flex items-center justify-center">
                              <h1 class="text-white">{{ride.rideData?.date | dateCheck}}</h1>
                            </div>
                        </td>
                        <td class="px-8 py-4 text-tsec">
                          ${{ride?.bookedSeat * ride.rideData?.price}}
                      </td>

                      </tr>
                  </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
</div>
